<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Real Time Gliding Airspace</title>
  </head>

  <body>
    <p>Active Wind Mode:</p>
    <p className="element" id="replace-me">WEST EDDM RWY 26</p>
    <button id="cwm">Change Wind Mode</button>
    <select class="select" name="aise" id="ase">
      <option value="00" disabled selected hidden>Airspace...</option>
      <option value="w1">All WestWind Airspaces</option>
      <option value="w2">DACOSH-C</option>
      <option value="w3">DACOSH-E</option>
      <option value="w4">DACOSH-W</option>
    </select>
  </body>
  <script>
    var i = 0;
    let westText = "WEST EDDM RWY 26";
    let eastText = "EAST EDDM RWY 08";
    let statIn = false;
    let tempString = "";
    let windMode = document.getElementById("replace-me").innerText;
    const cwmbtn = document.getElementById("cwm");

    var selectobject = document.getElementById("ase");

    let optev = ["e1", "e2", "e3", "e4", "e5", "e6"];
    let opten = ["All Eastwind Airspaces", "NG", "NX", "MD", "MJ", "MM"];

    let optwv = ["w1", "w2", "w3", "w4"];
    let optwn = ["All Westwind Airspaces", "DACOSH-C", "DACOSH-E", "DACOSH-W"];

    cwmbtn.addEventListener("click", function () {
      if (document.getElementById("replace-me").innerText == westText) {
        document.getElementById("replace-me").innerText = eastText;
        console.log(document.getElementById("replace-me").innerText);
        statIn = true;

        for (i = 0; i < selectobject.length; i++) {
          console.log(selectobject.options[i].value);

          tempString = selectobject.options[i].value;
          console.log(tempString);

          if (tempString.includes("w")) {
            console.log("yes");
            selectobject.remove(i);
            i = i - 1;
            console.log("removed");
          }
        }

        for (i = 0; i < opten.length; i++) {
          var opt = document.createElement("option");
          opt.value = optev[i];
          opt.innerHTML = opten[i];
          selectobject.appendChild(opt);
        }
      }
      if (
        document.getElementById("replace-me").innerText == eastText &&
        statIn == false
      ) {
        document.getElementById("replace-me").innerText = westText;
        console.log(document.getElementById("replace-me").innerText);
        statIn = true;

        for (i = 0; i < selectobject.length; i++) {
          console.log(selectobject.options[i].value);

          tempString = selectobject.options[i].value;
          console.log(tempString);

          if (tempString.includes("e")) {
            console.log("yes");
            selectobject.remove(i);
            i = i - 1;
            console.log("removed");
          }
        }

        for (i = 0; i < optwn.length; i++) {
          var opt = document.createElement("option");
          opt.value = optwv[i];
          opt.innerHTML = optwn[i];
          selectobject.appendChild(opt);
        }
      }
      statIn = false;
    });
    /*
        <option value="02">NG</option>
        <option value="03">NX</option>
    <option value="e1">All EastWind Airspaces</option>
      <option value="e2">MD</option>
      <option value="e3">MJ</option>
      <option value="e4">MM</option>
      <option value="e5">NG</option>
      <option value="e6">NX</option>

    <input type="button" value="Change Windmode" />
    var select = document.querySelector("#sel"),
        input = document.querySelector('input[type="button"]');
    select.addEventListener("change", function() {
        alert("changed");
    });
    input.addEventListener("click", function() {
        select.value = 2;
        select.dispatchEvent(new Event("change"));
    });
    */
  </script>
</html>
